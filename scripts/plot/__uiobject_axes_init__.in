## Copyright (C) 2005 John W. Eaton
##
## This file is part of Octave.
##
## Octave is free software; you can redistribute it and/or modify it
## under the terms of the GNU General Public License as published by
## the Free Software Foundation; either version 2, or (at your option)
## any later version.
##
## Octave is distributed in the hope that it will be useful, but
## WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
## General Public License for more details.
##
## You should have received a copy of the GNU General Public License
## along with Octave; see the file COPYING.  If not, write to the Free
## Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
## 02110-1301, USA.

## -*- texinfo -*-
## @deftypefn {Function File} {@var{s}} __uiobject_axes_init__ (@var{s})
## Initialize axes object.
## @end deftypefn

## Author: jwe

function h = __uiobject_axes_init__ (h, mode)

  __uiobject_globals__;

  if (nargin == 1)
    mode = "";
  endif

  if (nargin == 1 || nargin == 2)

    s = get (h);

    s.__setter__ = @__uiobject_axes_setr__;

    if (isfield (s, "title") && ! isempty (s.title))
      delete (s.title);
    endif
    s.title = __uiobject_text_ctor__ (h);

    s.box = "on";
    s.key = "off";
    s.keybox = "off";
    s.keypos = 1;

    s.dataaspectratio = [1, 1, 1];
    s.dataaspectratiomode = "auto";

    s.xlim = [0, 1];
    s.ylim = [0, 1];
    s.zlim = [0, 1];

    s.xlimmode = "auto";
    s.ylimmode = "auto";
    s.zlimmode = "auto";

    if (isfield (s, "xlabel") && ! isempty (s.xlabel))
      delete (s.xlabel);
    endif
    if (isfield (s, "ylabel") && ! isempty (s.ylabel))
      delete (s.ylabel);
    endif
    if (isfield (s, "zlabel") && ! isempty (s.zlabel))
      delete (s.zlabel);
    endif
    s.xlabel = __uiobject_text_ctor__ (h);
    s.ylabel = __uiobject_text_ctor__ (h);
    s.zlabel = __uiobject_text_ctor__ (h);

    s.xgrid = "off";
    s.ygrid = "off";
    s.zgrid = "off";

    s.xminorgrid = "off";
    s.yminorgrid = "off";
    s.zminorgrid = "off";

    s.xtick = [];
    s.ytick = [];
    s.ztick = [];

    s.xtickmode = "auto";
    s.ytickmode = "auto";
    s.ztickmode = "auto";

    s.xticklabel = [];
    s.yticklabel = [];
    s.zticklabel = [];

    s.xticklabelmode = "auto";
    s.yticklabelmode = "auto";
    s.zticklabelmode = "auto";

    s.xscale = "linear";
    s.yscale = "linear";
    s.zscale = "linear";

    s.xdir = "normal";
    s.ydir = "normal";
    s.zdir = "normal";

    s.view = [0, 90];

    s.nextplot = "replace";

    ## FIXME -- this is not quite right; we should preserve "position"
    ## and "units".
    if (! isfield (s, "outerposition")
        || (isempty (s.outerposition) || ! strcmp (mode, "replace")))
      s.outerposition = [0, 0, 1, 1];
    endif

    s.dataaspectratio = [];
    s.dataaspectratiomode = "auto";

    for child = s.children
      delete (child);
    endfor

    s.children = [];

    ## XXX FIXME XXX -- need to intialize all properties to default
    ## values here.

    idx = __uiobject_handle2idx__ (h);
    __uiobject_list__(idx).object = s;

  else
    print_usage ();
  endif

endfunction
